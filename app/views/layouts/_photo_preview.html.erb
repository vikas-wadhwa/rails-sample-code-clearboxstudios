<% content_for :head do %>
    <%= stylesheet_link_tag "photo_preview" , :media => 'all' %>
<% end %>



<% content_for :foot do %>

    <script>
        var photo_modal,
                photo_url;

        $(function(){
            photo_modal = $('#photo_preview_modal');
            $( ".photo-opener" ).click(function() {
                photo_url = $(this).next(".photo-opener-source").html();
                photo_modal.find('img').attr('src', photo_url).imagesLoaded(function () {
                    photo_modal.foundation('open');
                });
            });
        });


    </script>

<% end %>




<div id="photo_preview_modal" class="reveal" data-reveal aria-labelledby="Gallery Photo" aria-hidden="true" role="dialog">

  <div id="photo_preview_holder">
    <%= image_tag source_object.image_url(:large), :id=>'photo_preview_image' %>
  </div>

  <div class="row submission">
    <button class="close-button button secondary" data-close aria-label="Close reveal" type="button">Close</button>
  </div>

</div>